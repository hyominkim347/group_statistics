# PRD: Group Analytics Dashboard

## 문서 정보
| 항목 | 내용 |
|------|------|
| 제품명 | Group Analytics Dashboard |
| 버전 | 1.0.0 |
| 작성일 | 2026-01-05 |
| 대상 사용자 | AI SaaS 관리자, 팀 리더, 운영팀 |

---

## 1. 제품 개요

### 1.1 제품 소개
Group Analytics Dashboard는 AI SaaS 서비스의 그룹별 사용량 통계, 크레딧 소비, 멤버 활동을 추적하고 시각화하는 관리자 콘솔입니다. Material Design 기반의 직관적인 인터페이스를 통해 조직의 AI 서비스 사용 현황을 한눈에 파악할 수 있습니다.

### 1.2 제품 목표
- 그룹 및 개인별 AI 서비스 사용량 실시간 모니터링
- LLM 크레딧 소비 패턴 분석 및 비용 최적화 지원
- 멤버 활동 추적을 통한 효율적인 리소스 배분
- 데이터 기반 의사결정 지원

### 1.3 기술 스택
- **Frontend**: React 19.2.3, TypeScript
- **빌드 도구**: Vite 6.2
- **스타일링**: Tailwind CSS
- **차트**: Recharts 3.6
- **아이콘**: Lucide React

---

## 2. 핵심 기능 요구사항

### 2.1 사용량 분석 (Usage Analytics)

#### 기능명
**LLM 사용량 통계 대시보드**

#### 사용자 시나리오
> **시나리오 1: 월간 사용량 확인**
> - 관리자 김철수는 11월 한 달간 팀의 LLM API 사용량을 확인하고자 합니다.
> - 대시보드에 접속하여 "사용량" 탭을 선택합니다.
> - 날짜 범위를 "Nov 01 - Nov 30, 2023"으로 설정합니다.
> - 멤버 요청 횟수, LLM 크레딧, LLM 호출 횟수가 차트와 함께 표시됩니다.
> - 앱 유형별 필터를 사용하여 "답변형 앱"의 사용량만 따로 확인합니다.

> **시나리오 2: 앱별 사용량 비교**
> - 운영팀 박영희는 어떤 AI 앱이 가장 많이 사용되는지 파악하려 합니다.
> - 각 메트릭 카드의 "Top 4 앱" 목록을 통해 상위 사용 앱을 확인합니다.
> - 앱별 필터 버튼을 클릭하여 특정 앱 유형의 트렌드를 분석합니다.

#### 구체적인 정책 및 설명

| 항목 | 정책 |
|------|------|
| **표시 메트릭** | 멤버 요청 횟수, LLM 크레딧, LLM 호출 횟수 (3개 고정) |
| **차트 기간** | 14일 단위 일별 추이 표시 |
| **앱 유형 필터** | 답변형 앱, 대화형 앱, 답변 생성 API, 지식 베이스 (4종) |
| **상위 앱 표시** | 각 메트릭당 Top 4 앱 목록 표시 |
| **날짜 범위** | 사용자 지정 가능, 기본값 30일 |
| **데이터 갱신** | 실시간 (API 연동 시) |
| **내보내기** | CSV/Excel 형식 지원 |

#### 세부 기능 명세

**F2.1.1 멤버 요청 횟수 (Member Request Count)**
- 설명: 전체 멤버의 API 요청 총 횟수 집계
- 표시 형식: 숫자 (천 단위 콤마 표시)
- 차트: 14일간 일별 막대 그래프
- 필터: 앱 유형별 필터링 가능

**F2.1.2 LLM 크레딧 (LLM Credits)**
- 설명: 소비된 LLM 크레딧 총량
- 표시 형식: 소수점 2자리까지 표시
- 차트: 14일간 일별 막대 그래프
- 필터: 앱 유형별 필터링 가능

**F2.1.3 LLM 호출 횟수 (LLM Call Count)**
- 설명: LLM API 호출 총 횟수
- 표시 형식: 숫자 (천 단위 콤마 표시)
- 차트: 14일간 일별 막대 그래프
- 필터: 앱 유형별 필터링 가능

---

### 2.2 그룹 통계 (Group Analytics)

#### 기능명
**그룹별 사용량 분석 대시보드**

#### 사용자 시나리오
> **시나리오 1: 그룹 성과 비교**
> - 경영지원팀 이민수는 각 부서의 AI 서비스 활용도를 비교하려 합니다.
> - "그룹 통계" 탭에서 전체 그룹의 요약 카드를 확인합니다.
> - 총 크레딧, 총 요청 수, 활성 멤버 비율을 한눈에 파악합니다.
> - 그룹 차트에서 상위 7개 그룹의 크레딧 사용량을 비교합니다.

> **시나리오 2: 특정 그룹 상세 분석**
> - R&D팀 리더 최지은은 자신의 팀 통계만 확인하고 싶습니다.
> - 그룹 선택 드롭다운에서 "R&D Division"을 선택합니다.
> - 필터 배지가 표시되며 해당 그룹의 상세 데이터만 표시됩니다.
> - 데이터 테이블에서 순위, 멤버 수, 요청 수, 크레딧을 확인합니다.

#### 구체적인 정책 및 설명

| 항목 | 정책 |
|------|------|
| **요약 카드** | 총 크레딧 (강조), 총 요청 수, 활성/전체 멤버 비율 (3개) |
| **그룹 차트** | 크레딧 기준 상위 7개 그룹 가로 막대 차트 |
| **데이터 테이블** | 순위, 그룹명, 총 멤버, 활성 멤버, 요청 수, 크레딧 컬럼 |
| **그룹 필터** | 단일 선택, 검색 기능 포함 |
| **정렬 기준** | 기본값: 크레딧 내림차순 |
| **페이지네이션** | 테이블 하단 페이지 네비게이션 |

#### 세부 기능 명세

**F2.2.1 요약 카드 (Summary Cards)**
| 카드 | 설명 | 스타일 |
|------|------|--------|
| 총 크레딧 | 선택된 그룹(들)의 LLM 크레딧 합계 | Primary 색상 강조 |
| 총 요청 수 | 선택된 그룹(들)의 API 요청 합계 | 기본 스타일 |
| 활성 멤버 | 활성 멤버 / 전체 멤버 (비율 표시) | 기본 스타일 |

**F2.2.2 그룹 차트 (Group Chart)**
- 차트 유형: 가로 막대 차트
- 표시 그룹 수: 상위 7개 (크레딧 기준)
- 색상: Primary 색상 (#7420FF)
- 호버 효과: 툴팁으로 상세 수치 표시
- 범례: 차트 하단 표시

**F2.2.3 그룹 선택 드롭다운 (GroupSelect)**
- 검색 기능: 그룹명 실시간 검색
- 선택 해제: X 버튼으로 필터 초기화
- 애니메이션: 부드러운 드롭다운 전환
- 선택 표시: 선택된 그룹 배지 표시

**F2.2.4 데이터 테이블 (DataTable)**
| 컬럼 | 설명 | 정렬 |
|------|------|------|
| 순위 | 크레딧 기준 순위 (1-3위 배지) | - |
| 그룹명 | 그룹 표시명 | 가능 |
| 총 멤버 | 등록된 전체 멤버 수 | 가능 |
| 활성 멤버 | 현재 활성 상태 멤버 수 | 가능 |
| 요청 수 | 총 API 요청 횟수 | 가능 |
| 크레딧 | 소비된 LLM 크레딧 | 기본 정렬 |

---

### 2.3 멤버 활동 (Member Activity)

#### 기능명
**멤버 활동 추적 및 랭킹 대시보드**

#### 사용자 시나리오
> **시나리오 1: 월간 활성 멤버 추이 확인**
> - HR팀 정수민은 11월 한 달간 AI 서비스를 사용한 멤버 수 추이를 파악하려 합니다.
> - "멤버 수" 탭에서 일별 활성 멤버 차트를 확인합니다.
> - 일평균 활성 멤버 수를 통해 전반적인 서비스 활용도를 파악합니다.

> **시나리오 2: 우수 사용자 확인**
> - 팀장 김영호는 AI 서비스를 가장 적극적으로 활용하는 멤버를 파악하려 합니다.
> - 멤버 랭킹 테이블에서 Top 10 사용자를 확인합니다.
> - 각 멤버의 요청 수와 크레딧 사용량을 비교합니다.
> - 특정 그룹 필터를 적용하여 팀 내 순위를 확인합니다.

#### 구체적인 정책 및 설명

| 항목 | 정책 |
|------|------|
| **활성 멤버 차트** | 31일간 일별 막대 차트 |
| **일평균 표시** | 차트 상단에 평균값 표시 |
| **멤버 랭킹** | Top 10 멤버 (요청 수 기준) |
| **랭킹 배지** | 1위 금, 2위 은, 3위 동 트로피 아이콘 |
| **그룹 필터** | 특정 그룹 멤버만 필터링 가능 |
| **빈 상태** | 필터 결과 없을 시 안내 메시지 표시 |

#### 세부 기능 명세

**F2.3.1 활성 멤버 차트**
- 차트 유형: 세로 막대 차트
- 기간: 선택 월의 전체 일자 (최대 31일)
- Y축: 활성 멤버 수
- X축: 일자
- 색상: Primary 색상 (#7420FF)

**F2.3.2 멤버 랭킹 테이블 (MemberRankingTable)**
| 항목 | 설명 |
|------|------|
| 순위 | 1-3위: 트로피 아이콘, 4위 이후: 숫자 |
| 프로필 | 아바타 이미지 + 이름 |
| 이메일 | 멤버 이메일 주소 |
| 소속 그룹 | 그룹명 태그 표시 |
| 요청 수 | 총 API 요청 횟수 |
| 크레딧 | 소비된 LLM 크레딧 |

**F2.3.3 랭킹 배지 시스템**
| 순위 | 아이콘 | 색상 |
|------|--------|------|
| 1위 | Trophy | Gold (#FFD700) |
| 2위 | Trophy | Silver (#C0C0C0) |
| 3위 | Trophy | Bronze (#CD7F32) |
| 4위+ | 숫자 | Gray |

---

## 3. 공통 기능 요구사항

### 3.1 네비게이션 (Navigation)

#### 기능명
**탭 기반 페이지 네비게이션**

#### 구체적인 정책 및 설명

| 탭 | 라벨 (한/영) | 연결 뷰 |
|----|-------------|---------|
| Tab 1 | 사용량 / Usage | UsageAnalytics |
| Tab 2 | 멤버 수 / Member Count | MemberActivity |
| Tab 3 | 그룹 통계 / Group | GroupAnalytics |

- 현재 활성 탭 강조 표시 (Primary 색상)
- 탭 클릭 시 즉시 뷰 전환
- URL 히스토리 미지원 (SPA 내부 상태 관리)

### 3.2 그룹 필터링 시스템

#### 기능명
**글로벌 그룹 필터**

#### 구체적인 정책 및 설명

| 기능 | 설명 |
|------|------|
| 단일 선택 | 한 번에 하나의 그룹만 선택 가능 |
| 검색 | 그룹명 부분 일치 검색 지원 |
| 전체 보기 | 필터 해제 시 모든 그룹 데이터 표시 |
| 연동 뷰 | 그룹 통계, 멤버 활동 뷰에 적용 |
| 필터 배지 | 활성 필터 시 배지로 표시 |

### 3.3 날짜 범위 선택

#### 기능명
**날짜 범위 선택기**

#### 구체적인 정책 및 설명

| 항목 | 정책 |
|------|------|
| 기본 범위 | 최근 30일 |
| 최대 범위 | 1년 |
| 형식 | "MMM DD - MMM DD, YYYY" |
| 프리셋 | 오늘, 7일, 30일, 90일, 사용자 지정 |

### 3.4 데이터 내보내기

#### 기능명
**리포트 내보내기**

#### 구체적인 정책 및 설명

| 항목 | 정책 |
|------|------|
| 지원 형식 | CSV, Excel (.xlsx) |
| 내보내기 범위 | 현재 필터가 적용된 데이터 |
| 파일명 | `{뷰명}_{날짜범위}_{타임스탬프}.{확장자}` |
| 컬럼 | 현재 테이블에 표시된 모든 컬럼 |

---

## 4. 데이터 모델

### 4.1 GroupStats (그룹 통계)
```typescript
interface GroupStats {
  id: string;          // 고유 식별자
  rank: number;        // 순위
  name: string;        // 그룹명
  totalMembers: number;  // 전체 멤버 수
  activeMembers: number; // 활성 멤버 수
  requests: number;    // 총 요청 수
  credits: number;     // 총 크레딧
}
```

### 4.2 MemberRanking (멤버 랭킹)
```typescript
interface MemberRanking {
  id: string;          // 고유 식별자
  rank: number;        // 순위
  name: string;        // 멤버명
  email: string;       // 이메일
  group: string;       // 소속 그룹
  requestCount: number;  // 요청 수
  credits: number;     // 크레딧
}
```

### 4.3 SummaryMetric (요약 메트릭)
```typescript
interface SummaryMetric {
  label: string;       // 메트릭 라벨
  value: string | number;  // 값
  subText?: string;    // 부가 설명
  trend?: 'up' | 'down' | 'neutral';  // 추이
}
```

---

## 5. UI/UX 요구사항

### 5.1 디자인 시스템

#### 색상 팔레트
| 용도 | 색상 코드 | 설명 |
|------|----------|------|
| Primary | #7420FF | 주요 액션, 강조 |
| Primary Hover | #5e1acb | 호버 상태 |
| Primary Light | #F2EBFF | 배경 강조 |
| Surface | #FFFFFF | 카드 배경 |
| Background | #F5F5F5 | 페이지 배경 |
| Text Primary | #1F2937 | 주요 텍스트 |
| Text Secondary | #6B7280 | 보조 텍스트 |

#### 타이포그래피
| 용도 | 폰트 | 굵기 | 크기 |
|------|------|------|------|
| 제목 | Inter | 700 | 24px |
| 소제목 | Inter | 600 | 18px |
| 본문 | Roboto | 400 | 14px |
| 캡션 | Roboto | 400 | 12px |
| 숫자 | Inter | 500 | 다양 |

### 5.2 반응형 디자인

| 브레이크포인트 | 너비 | 레이아웃 |
|---------------|------|----------|
| Mobile | < 768px | 단일 컬럼 |
| Tablet | 768px - 1023px | 2컬럼 |
| Desktop | >= 1024px | 3컬럼 |

### 5.3 인터랙션

| 요소 | 인터랙션 |
|------|----------|
| 버튼 | 호버 시 색상 변경, 클릭 시 눌림 효과 |
| 카드 | 호버 시 그림자 강화 |
| 테이블 행 | 호버 시 배경색 변경 |
| 드롭다운 | 부드러운 펼침/접힘 애니메이션 |
| 차트 | 호버 시 툴팁 표시 |

---

## 6. 비기능 요구사항

### 6.1 성능
| 항목 | 요구사항 |
|------|----------|
| 초기 로딩 | 3초 이내 |
| 페이지 전환 | 즉시 (200ms 이내) |
| 차트 렌더링 | 500ms 이내 |
| 필터 적용 | 즉시 (100ms 이내) |

### 6.2 브라우저 지원
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 6.3 접근성
- 키보드 네비게이션 지원
- 스크린 리더 호환
- 색상 대비 WCAG 2.1 AA 준수

### 6.4 국제화
- 한국어 (기본)
- 영어 (보조 라벨)
- 날짜/숫자 로케일 포맷팅

---

## 7. 향후 확장 계획

### Phase 2 기능
- [ ] 실시간 알림 시스템
- [ ] 크레딧 사용 예측 분석
- [ ] 커스텀 대시보드 구성
- [ ] API 연동 (백엔드 통합)
- [ ] 사용자 권한 관리
- [ ] 데이터 비교 기능 (기간별, 그룹별)

### Phase 3 기능
- [ ] AI 기반 이상 탐지
- [ ] 자동 리포트 생성 및 발송
- [ ] 예산 관리 및 알림
- [ ] 멀티 테넌트 지원

---

## 8. 용어 정의

| 용어 | 정의 |
|------|------|
| 그룹 | 조직 내 부서 또는 팀 단위 |
| 멤버 | 그룹에 소속된 개별 사용자 |
| 활성 멤버 | 선택 기간 내 1회 이상 서비스 사용 |
| 요청 | AI 서비스 API 호출 1회 |
| 크레딧 | LLM 사용량 측정 단위 (토큰 기반) |
| 답변형 앱 | 질문-답변 형태의 AI 애플리케이션 |
| 대화형 앱 | 채팅 형태의 AI 애플리케이션 |
| 지식 베이스 | RAG 기반 문서 검색 서비스 |

---

## 부록: 샘플 데이터

### 그룹 목록 (기본 제공)
| 그룹명 | 전체 멤버 | 활성 멤버 |
|--------|----------|----------|
| Marketing Team | 45 | 38 |
| R&D Division | 120 | 85 |
| Sales Force | 60 | 42 |
| Customer Support | 30 | 28 |
| Product Design | 15 | 12 |
| HR Department | 8 | 4 |
| Operations | 22 | 18 |
| Legal Team | 5 | 2 |
| Finance | 12 | 10 |
| Executive | 6 | 6 |
